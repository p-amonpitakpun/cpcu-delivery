{"version":3,"sources":["pages/Login/style.module.css","pages/Robot/style.module.css","assets/robot.png","util.js","pages/Login/index.js","assets/map.png","pages/Robot/index.js","Route.js","reportWebVitals.js","index.js"],"names":["module","exports","getToken","localStorage","getItem","sendPost","url","data","a","fetch","process","method","headers","body","JSON","stringify","sendGet","workurl","URL","Object","keys","forEach","key","searchParams","append","Login","state","status","username","password","renderHead","className","styles","HeadText","HeadTextWrong","HeadTextPass","submitLogin","event","preventDefault","Util","res","setState","json","setItem","token","setTimeout","props","history","push","handleText","field","object","currentTarget","value","loginResult","this","Page","Box","src","Robot","onSubmit","placeholder","onChange","e","type","textinput","submit","React","Component","withRouter","rooms","maptype","occupancy_map","current_user","clicked_coordinate","robot_current_state","position","target","path","user","socket","controlpanel","Fragment","roomoptions","onClick","move","pause","stop","map","label","clickMap","rect","getBoundingClientRect","localX","Math","round","clientX","left","localY","clientY","top","logOut","removeItem","renderInsideMap","RobotIMG","currentPos","style","currentClick","targetClick","renderPath","out","i","length","targetPath","emit","destination","io","query","on","payload","planning_state","occupancy_grid_position","replace","disconnect","namebox","name","logout","columnContainer","debug","secHead","statusBox","statusText","greyText","greenText","yellowText","togglePane","toggleButton","right","onMouseDown","toggleDot","Beautifulmap","Map","debug2","RouteDisplay","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e38ce966.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Page\":\"style_Page__1J22r\",\"Box\":\"style_Box__yrZPo\",\"Robot\":\"style_Robot__1aAbD\",\"HeadText\":\"style_HeadText__3vMN5\",\"typing\":\"style_typing__22jCa\",\"blink-caret\":\"style_blink-caret__1O4bU\",\"HeadTextWrong\":\"style_HeadTextWrong__1Y6m1\",\"typing2\":\"style_typing2__1nGmE\",\"HeadTextPass\":\"style_HeadTextPass__1pKzl\",\"typing3\":\"style_typing3__1kl4R\",\"textinput\":\"style_textinput__2nqW_\",\"submit\":\"style_submit__3EEMG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Page\":\"style_Page__3lO_-\",\"Beautifulmap\":\"style_Beautifulmap__1VnyD\",\"currentPos\":\"style_currentPos__3kHNH\",\"columnContainer\":\"style_columnContainer__Nq6Aw\",\"logout\":\"style_logout__WqGgL\",\"namebox\":\"style_namebox__Zz_KD\",\"name\":\"style_name__eptz7\",\"debug\":\"style_debug__1_nzi\",\"debug2\":\"style_debug2__1UosV\",\"toggleButton\":\"style_toggleButton__3bRhi\",\"right\":\"style_right__3m7Vc\",\"toggleDot\":\"style_toggleDot__2IX_X\",\"togglePane\":\"style_togglePane__2fEDe\",\"secHead\":\"style_secHead__1LBo2\",\"currentClick\":\"style_currentClick__1M8ll\",\"targetClick\":\"style_targetClick__2HQyJ\",\"targetPath\":\"style_targetPath__XqbWP\",\"statusText\":\"style_statusText__1VnBN\",\"greenText\":\"style_greenText__32yGO\",\"yellowText\":\"style_yellowText__1w9gn\",\"greyText\":\"style_greyText__1krqe\",\"blueText\":\"style_blueText__18sU_\",\"statusBox\":\"style_statusBox__34BN8\"};","export default __webpack_public_path__ + \"static/media/robot.d00afd71.png\";","const getToken = () => {\n    return localStorage.getItem('auth');\n};\n\nexport default {\n    sendPost: async(url, data) => {\n        return await fetch(`${process.env.REACT_APP_BACKEND_BASE}${url}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${getToken()}`\n            },\n            body: JSON.stringify(data)\n        });        \n    },\n    sendGet: async(url, data) => {\n        let workurl = new URL(`${process.env.REACT_APP_BACKEND_BASE}${url}`);\n        if(data)\n            Object.keys(data).forEach(key => workurl.searchParams.append(key, data[key]));\n        return await fetch(workurl, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${getToken()}`\n            }\n        }); \n    }\n};","import styles from './style.module.css';\nimport React from 'react';\nimport Robot from '../../assets/robot.png';\nimport { withRouter } from 'react-router-dom';\nimport Util from '../../util';\n\nclass Login extends React.Component {\n\n    state = {\n        status: 0,\n        username: '',\n        password: ''\n    }\n\n    async componentDidMount() {\n        let res = await Util.sendGet('whoami',{a:'b'});\n        if(res.status===200)\n            this.props.history.push('/robot');\n    }\n\n    render() {\n        return <div className={styles.Page}>\n            <div className={styles.Box}>\n                <img src={Robot} className={styles.Robot} />\n                {this.renderHead()}\n                {this.state.status!==2 &&\n                <form onSubmit={this.submitLogin}>\n                    <input placeholder=\"Username\" onChange={(e)=>this.handleText(e, 'username')} value={this.state.username} type='text' className={styles.textinput} />\n                    <input placeholder=\"Password\" onChange={(e)=>this.handleText(e, 'password')} value={this.state.password} type='password' className={styles.textinput} />\n                    <input type='submit' className={styles.submit} value='Enter' />\n                </form>}\n            </div>\n        </div>;\n    }\n\n    renderHead = () => {\n        if (this.state.status===0)\n            return <div className={styles.HeadText}>&quot;Who ..  are .. you .. ?&quot;</div>;\n        else if(this.state.status===1)\n            return <div className={styles.HeadTextWrong}>&quot;Wrong .. Credential .. !&quot;</div>;\n        else if(this.state.status===2)\n            return <div className={styles.HeadTextPass}>&quot;Welcome .. :)&quot;</div>;\n    }\n\n    submitLogin = async(event) => {\n        event.preventDefault();\n        let res = await Util.sendPost('auth',{username: this.state.username, password: this.state.password});\n        if (res.status!==200)\n            this.setState({status:1});\n        else {\n            let body = await res.json();\n            localStorage.setItem('auth', body.token);\n            this.setState({status:2});\n            setTimeout(()=>{\n                this.props.history.push('/robot');\n            },3000);\n        }\n    }\n\n    handleText = (event, field) => {\n        let object = {};\n        object[field] = event.currentTarget.value;\n        this.setState(object);\n    }\n\n    loginResult = (username, password) => {\n        if(username===password)\n            return true;\n        else\n            return false;\n    }\n\n}\n\nexport default withRouter(Login);\n","export default __webpack_public_path__ + \"static/media/map.62b800f7.png\";","import styles from './style.module.css';\nimport React from 'react';\nimport Map from '../../assets/map.png';\nimport { withRouter } from 'react-router-dom';\nimport { io } from 'socket.io-client';\nimport RobotIMG from '../../assets/robot.png';\n\nconst rooms = {\n    '1': [112,63],\n    '2': [37,223],\n    '3': [55,407],\n    '4': [447,256],\n    '5': [294,99],\n    '6': [255,429]\n};\n\nclass Robot extends React.Component {\n\n    state = {\n        maptype: 0, // 0 -> Beautiful 1-> Occupancy\n        occupancy_map: '',\n        current_user: null,\n        clicked_coordinate: [0,0],\n        robot_current_state: {\n            status: 0, // 0=idle 1=walk 2=paused\n            position: [0, 0],\n            target: null,\n            path: [],\n            user: 'User1'\n        },\n        socket:null\n    }\n\n    async componentDidMount() {\n        let socket = io(process.env.REACT_APP_SOCKET_BASE, {\n            query: {\n                token: localStorage.getItem('auth')\n            }\n        });\n        socket.on('401', () => {\n            this.logOut();\n        });\n        socket.on('authenticated', (username) => {\n            this.setState({current_user:username});\n        });\n        socket.on('robotState', (payload) => {\n            let planning_state = payload.planning_state;\n            let robot_current_state = this.state.robot_current_state;\n            robot_current_state.position = payload.occupancy_grid_position;\n            robot_current_state.status = planning_state.state;\n            robot_current_state.target = planning_state.target;\n            robot_current_state.path = planning_state.path;\n            this.setState({\n                occupancy_map: `data:image/png;base64, ${payload.map.replace(/(\\r\\n|\\n|\\r)/gm, '')}`,\n                robot_current_state\n            });\n        });\n        this.setState({socket});\n    }\n\n    async componentWillUnmount() {\n        this.state.socket.disconnect();\n    }\n\n    render() {\n        return <div className={styles.Page}>\n            <div className={styles.namebox}>Welcome, <b className={styles.name}>{this.state.current_user}</b> <div className={styles.logout} onClick={this.logOut}>logout</div></div>\n            <hr />\n            <div className={styles.columnContainer}>\n                <div className={styles.debug}>\n                    <div className={styles.secHead}>Robot Status</div>\n                    {<div className={styles.statusBox}>\n                        <b className={styles.statusText}>Status:</b> \n                        {this.state.robot_current_state.status===0 && <b className={styles.greyText}>Idle</b>}\n                        {this.state.robot_current_state.status===1 && <b className={styles.greenText}>Moving</b>}\n                        {this.state.robot_current_state.status===2 && <b className={styles.yellowText}>Paused</b>}\n                    </div>}\n                    {this.state.robot_current_state.status!==0 && <div className={styles.statusBox}>\n                        <b className={styles.statusText}>By user:</b> \n                        {this.state.robot_current_state.status!==0 && <b className={styles.greyText}>{this.state.robot_current_state.user}</b>}\n                    </div>}\n                    <div className={styles.statusBox}>\n                        <b className={styles.statusText}>Map:</b> \n                    </div>\n                    <div className={styles.togglePane}>\n                        <div>Beautified</div>\n                        <div className={this.state.maptype===0?`${styles.toggleButton}`: `${styles.toggleButton} ${styles.right}`} onMouseDown={(event)=>event.preventDefault()} onClick={()=>{this.setState({maptype:1-this.state.maptype});}}>\n                            <div className={styles.toggleDot} />\n                        </div>\n                        <div>Occupancy</div>\n                    </div>\n                    {this.state.maptype===0?\n                        <div onMouseDown={(event)=>event.preventDefault()} className={styles.Beautifulmap} onClick={this.clickMap}>\n                            <img src={Map} />\n                            {this.renderInsideMap()}\n                        </div>:\n                        <div onMouseDown={(event)=>event.preventDefault()} className={styles.Beautifulmap} onClick={this.clickMap}>\n                            <img src={this.state.occupancy_map} />\n                            {this.renderInsideMap()}\n                        </div>\n                    }\n                </div>\n                <div className={styles.debug2}>\n                    <div className={styles.secHead}>Robot Control</div>\n                    {this.controlpanel()}\n                </div>\n            </div>\n        </div>;\n    }\n\n    controlpanel = () => {\n        if(this.state.robot_current_state.status===0) {\n            return <React.Fragment>\n                <div>Basic control(specify room)</div>\n                <div>Move to Room</div>\n                <select>\n                    {this.roomoptions()}\n                </select>\n                <button>Go</button>\n                <div>Advanced control(specify coordinate)</div>\n                <div>Click on the map the point to get coordinate</div>\n                <div>X: {this.state.clicked_coordinate[0]}</div>\n                <div>Y: {this.state.clicked_coordinate[1]}</div>\n                <button onClick={this.move}>Go</button>\n            </React.Fragment>;\n        }\n        else if(this.state.robot_current_state.status===1) {\n            return <React.Fragment>\n                <div>Pause or cancel</div>\n                <button onClick={this.pause}>Pause</button>\n                <button onClick={this.stop}>Stop/Cancel</button>\n            </React.Fragment>;\n        }\n        else if(this.state.robot_current_state.status===2) {\n            return <React.Fragment>\n                <div>Resume or cancel</div>\n                <button>Resume</button>\n                <button onClick={this.stop}>Stop/Cancel</button>\n            </React.Fragment>;\n        }\n    }\n\n    roomoptions = () => {\n        return Object.keys(rooms).map((key) => {\n            return <option key={key} label={key} value={key}>{key}</option>;\n        });\n    }\n\n    clickMap=(event)=> {\n        let rect = event.currentTarget.getBoundingClientRect();\n        let localX = Math.round(event.clientX - rect.left);\n        let localY = Math.round(event.clientY - rect.top);\n        this.setState({clicked_coordinate:[localX, localY]});\n    }\n\n    logOut=()=> {\n        localStorage.removeItem('auth');\n        this.props.history.push('/');\n    }\n\n    renderInsideMap=()=>{\n        return <React.Fragment>\n            <img src={RobotIMG} className={styles.currentPos} style={{\n                top:`${this.state.robot_current_state.position[1] -20}px`,\n                left:`${this.state.robot_current_state.position[0] -20}px`\n            }} />\n            { this.state.robot_current_state.status===0 &&\n                <div className={styles.currentClick} style={{\n                    top:`${this.state.clicked_coordinate[1] - 5}px`,\n                    left:`${this.state.clicked_coordinate[0] - 5}px`\n                }} />\n            }\n            { this.state.robot_current_state.status===1 &&\n                <div className={styles.targetClick} style={{\n                    top:`${this.state.robot_current_state.target[1] - 5}px`,\n                    left:`${this.state.robot_current_state.target[0] - 5}px`\n                }} />\n            }\n            { this.state.robot_current_state.status===1 && this.renderPath()}\n        </React.Fragment>;\n    }\n\n    renderPath= ()=>{\n        let out = [];\n        for(let i=0;i<this.state.robot_current_state.path.length;i++) {\n            out.push(<div className={styles.targetPath} style={{\n                left:`${this.state.robot_current_state.path[i][0] - 5}px`,\n                top:`${this.state.robot_current_state.path[i][1] - 5}px`\n            }} />);\n        }\n        return out;\n    }\n\n    move = () => {\n        this.state.socket.emit('moveCommand',{\n            destination: this.state.clicked_coordinate\n        });\n    }\n\n    stop = () => {\n        this.state.socket.emit('stopCommand');\n    }\n\n    pause = () => {\n        this.state.socket.emit('pauseCommand');\n    }\n}\n\nexport default withRouter(Robot);\n","import React from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n} from 'react-router-dom';\nimport Login from './pages/Login';\nimport Robot from './pages/Robot';\n\nexport default function RouteDisplay() {\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/robot\">\n                    <Robot />\n                </Route>\n                <Route path=\"/\">\n                    <Login />\n                </Route>\n            </Switch>\n        </Router>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport RouteDisplay from './Route';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <RouteDisplay />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}